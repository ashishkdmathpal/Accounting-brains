---
layout: base.njk
title: "Blog - Finance & Accounting Insights for SMEs and CPA Firms | AccountingBrains"
description: "Expert accounting insights, outsourcing strategies, and financial best practices for SMEs, CPA firms, and global enterprises across USA, Canada, UAE, and Australia."
pagination:
  data: collections.posts
  size: 9
---

<!-- Hero Section -->
<section class="bg-primary-50 py-16 md:py-24 overflow-hidden">
  <div class="container-custom">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
      <div class="text-center lg:text-left">
        <div class="inline-flex items-center gap-2 bg-white border border-primary-200 rounded-full px-4 py-2 mb-6">
          <span class="w-2 h-2 bg-accent-500 rounded-full"></span>
          <span class="text-sm font-medium text-gray-700">Finance & Accounting Insights</span>
        </div>
        <h1 class="text-4xl md:text-5xl lg:text-6xl font-heading font-bold text-gray-900 mb-6 leading-tight">
          Expert Insights for Smarter Accounting
        </h1>
        <p class="text-lg md:text-xl text-gray-600 mb-8 leading-relaxed">
          Stay ahead with the latest accounting strategies, outsourcing insights, AI adoption trends, and financial best practices for SMEs and CPA firms.
        </p>
        <div class="flex flex-wrap gap-3 justify-center lg:justify-start">
          <a href="#posts" class="btn btn-primary text-base px-6 py-3">
            Read Articles
          </a>
          <a href="#newsletter" class="btn btn-outline text-base px-6 py-3">
            Subscribe
          </a>
        </div>
      </div>
      <div class="relative">
        <!-- Blog Hero Illustration — from Marketing Engine brand-svgs library -->
        <div class="bg-primary-50 rounded-2xl shadow-xl p-6 md:p-8 flex items-center justify-center" style="min-height: 280px;">
          <img src="{{ '/assets/images/hero-blog.svg' | url }}" alt="Finance & Accounting Insights" class="w-full h-auto max-h-72 object-contain">
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Featured Categories -->
<section class="py-12 bg-white border-b border-gray-100">
  <div class="container-custom">
    <div class="flex flex-wrap justify-center gap-3">
      <a href="#" class="inline-flex items-center gap-2 bg-primary-50 hover:bg-primary-100 text-primary-700 px-4 py-2 rounded-full text-sm font-medium transition-colors">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
        </svg>
        CPA Firms
      </a>
      <a href="#" class="inline-flex items-center gap-2 bg-accent-50 hover:bg-accent-100 text-accent-700 px-4 py-2 rounded-full text-sm font-medium transition-colors">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064"/>
        </svg>
        Outsourcing
      </a>
      <a href="#" class="inline-flex items-center gap-2 bg-primary-50 hover:bg-primary-100 text-primary-700 px-4 py-2 rounded-full text-sm font-medium transition-colors">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
        </svg>
        AI & Technology
      </a>
      <a href="#" class="inline-flex items-center gap-2 bg-accent-50 hover:bg-accent-100 text-accent-700 px-4 py-2 rounded-full text-sm font-medium transition-colors">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
        </svg>
        Compliance
      </a>
      <a href="#" class="inline-flex items-center gap-2 bg-primary-50 hover:bg-primary-100 text-primary-700 px-4 py-2 rounded-full text-sm font-medium transition-colors">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
        </svg>
        Financial Strategy
      </a>
    </div>
  </div>
</section>

<!-- Blog Posts Grid -->
<section id="posts" class="py-16 md:py-24 bg-gray-50">
  <div class="container-custom">
    <div class="text-center mb-12">
      <span class="text-sm font-semibold text-primary-600 uppercase tracking-wider">Latest Articles</span>
      <h2 class="text-3xl md:text-4xl font-heading font-bold text-gray-900 mt-2">Latest Finance & Accounting Insights</h2>
    </div>

    {% if collections.posts.length > 0 %}
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {% for post in pagination.items %}
          <article class="bg-white rounded-2xl overflow-hidden shadow-sm border border-gray-100 hover:shadow-xl transition-all group">
            <!-- Featured Image with SVG Placeholder -->
            <div class="w-full h-48 bg-primary-50 flex items-center justify-center overflow-hidden">
              {% if post.data.image %}
                <img src="{{ post.data.image }}" alt="{{ post.data.title }}" class="w-full h-full object-cover group-hover:scale-105 transition-transform">
              {% else %}
                <svg viewBox="0 0 200 120" class="w-32 h-20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <!-- Document with lines -->
                  <rect x="60" y="20" width="80" height="80" rx="4" fill="white" stroke="#6366F1" stroke-width="2"/>
                  <rect x="70" y="30" width="60" height="4" rx="1" fill="#C7D2FE"/>
                  <rect x="70" y="40" width="50" height="3" rx="1" fill="#E5E7EB"/>
                  <rect x="70" y="48" width="55" height="3" rx="1" fill="#E5E7EB"/>
                  <rect x="70" y="56" width="45" height="3" rx="1" fill="#E5E7EB"/>
                  <rect x="70" y="64" width="52" height="3" rx="1" fill="#E5E7EB"/>
                  <!-- Decorative corner -->
                  <path d="M125 20 L140 20 L140 35 Z" fill="#C7D2FE"/>
                  <!-- Small icon -->
                  <circle cx="90" cy="82" r="8" fill="#10B981"/>
                  <path d="M86 82 L89 85 L94 79" stroke="white" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
              {% endif %}
            </div>

            <div class="p-6">
              <!-- Category Badge -->
              {% if post.data.category %}
                <span class="inline-block bg-primary-100 text-primary-700 px-3 py-1 rounded-full text-xs font-medium mb-3">
                  {{ post.data.category }}
                </span>
              {% endif %}

              <!-- Post Title -->
              <h3 class="text-xl font-heading font-bold mb-3 group-hover:text-primary-600 transition-colors">
                <a href="{{ post.url | url }}">{{ post.data.title }}</a>
              </h3>

              <!-- Excerpt -->
              <p class="text-gray-600 mb-4 line-clamp-3">
                {{ post.data.description or (post.templateContent | excerpt) }}
              </p>

              <!-- Meta Info -->
              <div class="flex items-center justify-between text-sm text-gray-500 pt-4 border-t border-gray-100">
                <span>{{ post.data.date | dateDisplay }}</span>
                <a href="{{ post.url | url }}" class="text-primary-600 hover:underline font-medium inline-flex items-center gap-1">
                  Read more
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                  </svg>
                </a>
              </div>
            </div>
          </article>
        {% endfor %}
      </div>

      <!-- Pagination -->
      {% if pagination.pages.length > 1 %}
        <nav class="mt-12 flex justify-center gap-2" aria-label="Pagination">
          {% if pagination.previousPageHref %}
            <a href="{{ pagination.previousPageHref }}" class="btn btn-secondary px-4 py-2">
              <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
              </svg>
              Previous
            </a>
          {% endif %}

          <span class="px-4 py-2 text-gray-600 bg-white rounded-lg border border-gray-200">
            Page {{ pagination.pageNumber + 1 }} of {{ pagination.pages.length }}
          </span>

          {% if pagination.nextPageHref %}
            <a href="{{ pagination.nextPageHref }}" class="btn btn-secondary px-4 py-2">
              Next
              <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
              </svg>
            </a>
          {% endif %}
        </nav>
      {% endif %}
    {% else %}
      <!-- No Posts Yet - Enhanced Empty State -->
      <div class="max-w-2xl mx-auto">
        <div class="bg-white rounded-2xl p-12 text-center shadow-sm border border-gray-100">
          <!-- Empty State SVG -->
          <div class="mb-8">
            <svg viewBox="0 0 200 160" class="w-48 h-40 mx-auto" fill="none" xmlns="http://www.w3.org/2000/svg">
              <!-- Stack of papers -->
              <rect x="50" y="40" width="100" height="80" rx="4" fill="#F3F4F6" stroke="#D1D5DB" stroke-width="2"/>
              <rect x="55" y="35" width="100" height="80" rx="4" fill="#F9FAFB" stroke="#D1D5DB" stroke-width="2"/>
              <rect x="60" y="30" width="100" height="80" rx="4" fill="white" stroke="#9CA3AF" stroke-width="2"/>

              <!-- Lines on top paper -->
              <rect x="75" y="45" width="70" height="4" rx="1" fill="#E5E7EB"/>
              <rect x="75" y="55" width="55" height="3" rx="1" fill="#F3F4F6"/>
              <rect x="75" y="63" width="60" height="3" rx="1" fill="#F3F4F6"/>
              <rect x="75" y="71" width="50" height="3" rx="1" fill="#F3F4F6"/>

              <!-- Pencil -->
              <g transform="translate(130, 80) rotate(45)">
                <rect x="0" y="0" width="8" height="40" fill="#F59E0B"/>
                <polygon points="0,40 4,50 8,40" fill="#374151"/>
                <rect x="0" y="0" width="8" height="5" fill="#FCD34D"/>
              </g>

              <!-- Clock -->
              <circle cx="50" cy="130" r="18" fill="#E0E7FF" stroke="#6366F1" stroke-width="2"/>
              <circle cx="50" cy="130" r="2" fill="#6366F1"/>
              <line x1="50" y1="130" x2="50" y2="120" stroke="#6366F1" stroke-width="2"/>
              <line x1="50" y1="130" x2="58" y2="135" stroke="#6366F1" stroke-width="2"/>

              <!-- Coffee cup -->
              <g transform="translate(140, 115)">
                <rect x="0" y="5" width="20" height="25" rx="3" fill="#D1D5DB"/>
                <path d="M20 10 Q 28 10 28 18 Q 28 25 20 25" fill="none" stroke="#D1D5DB" stroke-width="3"/>
                <ellipse cx="10" cy="5" rx="10" ry="3" fill="#9CA3AF"/>
                <!-- Steam -->
                <path d="M7 0 Q 5 -5 8 -8" stroke="#D1D5DB" stroke-width="1.5" fill="none">
                  <animate attributeName="d" values="M7 0 Q 5 -5 8 -8;M7 0 Q 9 -5 6 -8;M7 0 Q 5 -5 8 -8" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M13 0 Q 15 -5 12 -8" stroke="#D1D5DB" stroke-width="1.5" fill="none">
                  <animate attributeName="d" values="M13 0 Q 15 -5 12 -8;M13 0 Q 11 -5 14 -8;M13 0 Q 15 -5 12 -8" dur="2s" repeatCount="indefinite"/>
                </path>
              </g>
            </svg>
          </div>

          <h2 class="text-2xl font-heading font-bold text-gray-900 mb-4">Articles Coming Soon</h2>
          <p class="text-gray-600 mb-8 max-w-md mx-auto">
            We're preparing expert insights on outsourced accounting, CPA firm growth, AI adoption, and financial best practices for SMEs. Check back soon!
          </p>
          <div class="flex flex-col sm:flex-row gap-3 justify-center">
            <a href="#newsletter" class="btn btn-primary">Subscribe for Updates</a>
            <a href="/" class="btn btn-secondary">Back to Home</a>
          </div>
        </div>
      </div>
    {% endif %}
  </div>
</section>

<!-- Resources Section -->
<section class="py-16 md:py-24 bg-white">
  <div class="container-custom">
    <div class="text-center mb-12">
      <span class="text-sm font-semibold text-primary-600 uppercase tracking-wider">Free Resources</span>
      <h2 class="text-3xl md:text-4xl font-heading font-bold text-gray-900 mt-2 mb-4">Helpful Guides & Downloads</h2>
      <p class="text-lg text-gray-600 max-w-2xl mx-auto">Essential resources to help SMEs and CPA firms stay compliant and financially optimised</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
      <!-- Resource 1 -->
      <div class="bg-gray-50 rounded-2xl p-8 text-center hover:shadow-lg transition-shadow">
        <div class="mb-6">
          <svg viewBox="0 0 80 80" class="w-16 h-16 mx-auto" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="40" cy="40" r="38" fill="#E0E7FF" stroke="#6366F1" stroke-width="2"/>
            <rect x="22" y="20" width="36" height="44" rx="3" fill="white" stroke="#6366F1" stroke-width="2"/>
            <rect x="27" y="26" width="26" height="3" rx="1" fill="#6366F1"/>
            <rect x="27" y="33" width="20" height="2" rx="1" fill="#C7D2FE"/>
            <rect x="27" y="38" width="24" height="2" rx="1" fill="#C7D2FE"/>
            <rect x="27" y="43" width="18" height="2" rx="1" fill="#C7D2FE"/>
            <!-- Checkmark -->
            <circle cx="55" cy="52" r="10" fill="#10B981"/>
            <path d="M50 52 L54 56 L60 48" stroke="white" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
        <h3 class="text-lg font-bold text-gray-900 mb-2">Outsourcing Readiness Checklist</h3>
        <p class="text-gray-600 text-sm mb-4">Is your firm ready to outsource? 20-point assessment guide</p>
        <button onclick="openResourceModal('/assets/downloads/outsourcing-readiness-checklist.pdf', 'Outsourcing Readiness Checklist')" class="text-primary-600 hover:underline font-medium text-sm inline-flex items-center gap-1 cursor-pointer bg-transparent border-0 p-0">
          Download PDF
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
          </svg>
        </button>
      </div>

      <!-- Resource 2 -->
      <div class="bg-gray-50 rounded-2xl p-8 text-center hover:shadow-lg transition-shadow">
        <div class="mb-6">
          <svg viewBox="0 0 80 80" class="w-16 h-16 mx-auto" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="40" cy="40" r="38" fill="#D1FAE5" stroke="#10B981" stroke-width="2"/>
            <rect x="18" y="25" width="44" height="34" rx="3" fill="white" stroke="#10B981" stroke-width="2"/>
            <!-- Chart bars -->
            <rect x="24" y="42" width="6" height="12" fill="#10B981"/>
            <rect x="33" y="36" width="6" height="18" fill="#6366F1"/>
            <rect x="42" y="30" width="6" height="24" fill="#10B981"/>
            <rect x="51" y="38" width="6" height="16" fill="#6366F1"/>
            <!-- Header -->
            <rect x="24" y="29" width="18" height="3" rx="1" fill="#D1FAE5"/>
          </svg>
        </div>
        <h3 class="text-lg font-bold text-gray-900 mb-2">Month-End Close Playbook</h3>
        <p class="text-gray-600 text-sm mb-4">Cut your close time from 10 days to 3 — step by step</p>
        <button onclick="openResourceModal('/assets/downloads/month-end-close-playbook.pdf', 'Month-End Close Playbook')" class="text-primary-600 hover:underline font-medium text-sm inline-flex items-center gap-1 cursor-pointer bg-transparent border-0 p-0">
          Download PDF
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
          </svg>
        </button>
      </div>

      <!-- Resource 3 -->
      <div class="bg-gray-50 rounded-2xl p-8 text-center hover:shadow-lg transition-shadow">
        <div class="mb-6">
          <svg viewBox="0 0 80 80" class="w-16 h-16 mx-auto" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="40" cy="40" r="38" fill="#FEF3C7" stroke="#F59E0B" stroke-width="2"/>
            <!-- Calendar -->
            <rect x="18" y="22" width="44" height="38" rx="3" fill="white" stroke="#F59E0B" stroke-width="2"/>
            <rect x="18" y="22" width="44" height="10" rx="3" fill="#F59E0B"/>
            <circle cx="28" cy="18" r="3" fill="#F59E0B"/>
            <circle cx="52" cy="18" r="3" fill="#F59E0B"/>
            <!-- Calendar grid -->
            <rect x="24" y="38" width="8" height="6" rx="1" fill="#FEF3C7"/>
            <rect x="36" y="38" width="8" height="6" rx="1" fill="#FEF3C7"/>
            <rect x="48" y="38" width="8" height="6" rx="1" fill="#FEF3C7"/>
            <rect x="24" y="48" width="8" height="6" rx="1" fill="#FEF3C7"/>
            <rect x="36" y="48" width="8" height="6" rx="1" fill="#10B981"/>
            <path d="M38 51 L40 53 L44 49" stroke="white" stroke-width="1.5" stroke-linecap="round"/>
            <rect x="48" y="48" width="8" height="6" rx="1" fill="#FEF3C7"/>
          </svg>
        </div>
        <h3 class="text-lg font-bold text-gray-900 mb-2">Fractional CFO ROI Calculator</h3>
        <p class="text-gray-600 text-sm mb-4">See your savings vs full-time CFO in under 2 minutes</p>
        <button onclick="openResourceModal('/assets/downloads/fractional-cfo-roi-calculator.pdf', 'Fractional CFO ROI Calculator')" class="text-primary-600 hover:underline font-medium text-sm inline-flex items-center gap-1 cursor-pointer bg-transparent border-0 p-0">
          Download PDF
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
          </svg>
        </button>
      </div>
    </div>
  </div>
</section>

<!-- Newsletter Signup -->
<section id="newsletter" class="py-16 md:py-24 bg-primary-900 text-white relative overflow-hidden">
  <!-- Decorative SVG Background -->
  <div class="absolute inset-0 opacity-10">
    <svg class="w-full h-full" viewBox="0 0 800 400" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice">
      <circle cx="100" cy="100" r="150" fill="currentColor"/>
      <circle cx="700" cy="300" r="200" fill="currentColor"/>
      <circle cx="400" cy="50" r="80" fill="currentColor"/>
      <circle cx="600" cy="100" r="60" fill="currentColor"/>
      <circle cx="200" cy="350" r="100" fill="currentColor"/>
    </svg>
  </div>

  <div class="container-custom relative z-10">
    <div class="max-w-4xl mx-auto">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
        <div>
          <h2 class="text-3xl md:text-4xl font-heading font-bold mb-4 text-white">Stay Informed</h2>
          <p class="text-lg text-primary-200 mb-6">
            Get weekly accounting tips, compliance updates, and financial insights delivered to your inbox.
          </p>
          <ul class="space-y-3 text-primary-200">
            <li class="flex items-center gap-2">
              <svg class="w-5 h-5 text-accent-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
              Outsourcing & offshoring strategies
            </li>
            <li class="flex items-center gap-2">
              <svg class="w-5 h-5 text-accent-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
              AI & automation in accounting
            </li>
            <li class="flex items-center gap-2">
              <svg class="w-5 h-5 text-accent-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
              Regulatory & compliance updates
            </li>
          </ul>
        </div>
        <div class="bg-primary-800 rounded-2xl p-8">
          <form id="newsletter-form" class="space-y-4">
            <!-- Honeypot for spam protection -->
            <input type="text" name="_gotcha" style="display:none">
            <div>
              <label for="newsletter-name" class="block text-sm font-medium text-primary-200 mb-2">Your Name</label>
              <input type="text" id="newsletter-name" name="name" required placeholder="John Smith"
                class="w-full px-4 py-3 rounded-lg text-gray-900 focus:ring-2 focus:ring-accent-500 focus:outline-none text-base">
            </div>
            <div>
              <label for="newsletter-email" class="block text-sm font-medium text-primary-200 mb-2">Email Address</label>
              <input type="email" id="newsletter-email" name="email" required placeholder="john@company.com"
                class="w-full px-4 py-3 rounded-lg text-gray-900 focus:ring-2 focus:ring-accent-500 focus:outline-none text-base">
            </div>
            <button type="submit" id="newsletter-btn" class="btn bg-accent-500 hover:bg-accent-600 text-white w-full text-lg py-3">
              <span id="newsletter-btn-text">Subscribe Now</span>
              <span id="newsletter-btn-loading" class="hidden">
                <svg class="animate-spin h-5 w-5 inline mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                  <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                  <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
                Subscribing...
              </span>
            </button>

            <!-- Success/Error Messages -->
            <div id="newsletter-success" class="hidden p-4 bg-green-500/20 border border-green-400/30 rounded-lg text-green-200 text-center">
              <svg class="w-5 h-5 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
              You're subscribed! Check your inbox.
            </div>
            <div id="newsletter-error" class="hidden p-4 bg-red-500/20 border border-red-400/30 rounded-lg text-red-200 text-center">
              <svg class="w-5 h-5 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
              </svg>
              <span id="newsletter-error-msg">Something went wrong. Please try again.</span>
            </div>

            <p class="text-sm text-primary-300 text-center">Unsubscribe anytime. No spam, we promise.</p>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Resource Download Email Gate Modal -->
<div id="resource-modal" class="fixed inset-0 z-50 hidden" role="dialog" aria-modal="true" aria-labelledby="resource-modal-title">
  <!-- Backdrop -->
  <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" onclick="closeResourceModal()"></div>
  <!-- Panel -->
  <div class="absolute inset-0 flex items-center justify-center p-4">
    <div class="relative bg-white rounded-2xl shadow-2xl w-full max-w-md p-8">
      <!-- Close button -->
      <button onclick="closeResourceModal()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors" aria-label="Close">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
      <!-- Header -->
      <div class="mb-6">
        <div class="w-12 h-12 bg-primary-50 rounded-xl flex items-center justify-center mb-4">
          <svg class="w-6 h-6 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
          </svg>
        </div>
        <h2 id="resource-modal-title" class="text-xl font-bold text-gray-900 mb-1">Get Your Free Resource</h2>
        <p id="resource-modal-name" class="text-primary-600 font-semibold text-sm"></p>
        <p class="text-gray-500 text-sm mt-2">Enter your details and we'll send the download link — plus accounting insights you'll actually use.</p>
      </div>
      <!-- Form -->
      <form id="resource-gate-form" class="space-y-4" novalidate>
        <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off">
        <div>
          <label for="rg-name" class="block text-sm font-medium text-gray-700 mb-1">Your Name</label>
          <input type="text" id="rg-name" name="name" required placeholder="Jane Smith"
            class="w-full px-4 py-3 border border-gray-200 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors">
        </div>
        <div>
          <label for="rg-email" class="block text-sm font-medium text-gray-700 mb-1">Work Email</label>
          <input type="email" id="rg-email" name="email" required placeholder="jane@company.com"
            class="w-full px-4 py-3 border border-gray-200 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors">
        </div>
        <button type="submit" id="rg-btn" class="w-full btn btn-primary py-3 text-base font-semibold flex items-center justify-center gap-2">
          <span id="rg-btn-text">Download Now</span>
          <span id="rg-btn-loading" class="hidden">
            <svg class="animate-spin w-5 h-5" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path>
            </svg>
          </span>
        </button>
        <!-- Success state -->
        <div id="rg-success" class="hidden p-4 bg-green-50 border border-green-200 rounded-lg text-center">
          <svg class="w-8 h-8 text-green-500 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
          <p class="text-green-800 font-semibold text-sm">Your download is starting…</p>
          <p class="text-green-600 text-xs mt-1">We've also added you to our weekly accounting insights newsletter.</p>
        </div>
        <!-- Error state -->
        <div id="rg-error" class="hidden p-3 bg-red-50 border border-red-200 rounded-lg">
          <p id="rg-error-msg" class="text-red-600 text-sm text-center">Something went wrong. Please try again.</p>
        </div>
        <p class="text-xs text-gray-400 text-center">No spam. Unsubscribe anytime.</p>
      </form>
    </div>
  </div>
</div>

<!-- Newsletter Form JavaScript -->
<script>
  // Newsletter API - UPDATE THIS after deploying the Brevo worker
  const NEWSLETTER_API = 'https://accountingbrains-newsletter.ashishkdmathpal.workers.dev';

  document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('newsletter-form');
    if (!form) return;

    const submitBtn = document.getElementById('newsletter-btn');
    const btnText = document.getElementById('newsletter-btn-text');
    const btnLoading = document.getElementById('newsletter-btn-loading');
    const successMsg = document.getElementById('newsletter-success');
    const errorMsg = document.getElementById('newsletter-error');
    const errorText = document.getElementById('newsletter-error-msg');

    form.addEventListener('submit', async function(e) {
      e.preventDefault();

      // Check honeypot (spam protection)
      if (form._gotcha && form._gotcha.value) {
        return;
      }

      // Hide previous messages
      successMsg.classList.add('hidden');
      errorMsg.classList.add('hidden');

      // Show loading state
      submitBtn.disabled = true;
      btnText.classList.add('hidden');
      btnLoading.classList.remove('hidden');

      // Collect form data
      const formData = {
        name: document.getElementById('newsletter-name').value,
        email: document.getElementById('newsletter-email').value,
        source: 'blog_newsletter'
      };

      try {
        const response = await fetch(NEWSLETTER_API, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(formData),
        });

        const result = await response.json();

        if (response.ok && result.success) {
          successMsg.classList.remove('hidden');
          form.reset();
        } else {
          errorText.textContent = result.error || 'Something went wrong. Please try again.';
          errorMsg.classList.remove('hidden');
        }
      } catch (error) {
        console.error('Newsletter subscription error:', error);
        errorText.textContent = 'Network error. Please check your connection and try again.';
        errorMsg.classList.remove('hidden');
      } finally {
        // Reset button state
        submitBtn.disabled = false;
        btnText.classList.remove('hidden');
        btnLoading.classList.add('hidden');
      }
    });
  });
</script>

<script>
  // ── Resource Download Email Gate ──────────────────────────────────────────
  var _resourceUrl = '';

  function openResourceModal(url, name) {
    _resourceUrl = url;
    document.getElementById('resource-modal-name').textContent = name;
    document.getElementById('resource-modal').classList.remove('hidden');
    document.body.style.overflow = 'hidden';
    document.getElementById('resource-gate-form').reset();
    document.getElementById('rg-success').classList.add('hidden');
    document.getElementById('rg-error').classList.add('hidden');
    document.getElementById('rg-btn').classList.remove('hidden');
    document.getElementById('rg-btn-text').classList.remove('hidden');
    document.getElementById('rg-btn-loading').classList.add('hidden');
    setTimeout(function(){ document.getElementById('rg-name').focus(); }, 100);
  }

  function closeResourceModal() {
    document.getElementById('resource-modal').classList.add('hidden');
    document.body.style.overflow = '';
  }

  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') closeResourceModal();
  });

  document.addEventListener('DOMContentLoaded', function() {
    var rgForm = document.getElementById('resource-gate-form');
    if (!rgForm) return;

    rgForm.addEventListener('submit', async function(e) {
      e.preventDefault();

      var name  = document.getElementById('rg-name').value.trim();
      var email = document.getElementById('rg-email').value.trim();
      if (!name || !email) return;

      var btn     = document.getElementById('rg-btn');
      var btnText = document.getElementById('rg-btn-text');
      var btnLoad = document.getElementById('rg-btn-loading');
      var success = document.getElementById('rg-success');
      var errDiv  = document.getElementById('rg-error');
      var errMsg  = document.getElementById('rg-error-msg');

      btn.disabled = true;
      btnText.classList.add('hidden');
      btnLoad.classList.remove('hidden');
      errDiv.classList.add('hidden');

      try {
        var res = await fetch('https://accountingbrains-newsletter.ashishkdmathpal.workers.dev', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ name: name, email: email, source: 'resource_download' })
        });
        var data = await res.json();

        if (res.ok && data.success) {
          btn.classList.add('hidden');
          success.classList.remove('hidden');
          setTimeout(function() {
            var a = document.createElement('a');
            a.href = _resourceUrl;
            a.download = '';
            a.target = '_blank';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            setTimeout(closeResourceModal, 2500);
          }, 800);
        } else {
          errMsg.textContent = data.error || 'Something went wrong. Please try again.';
          errDiv.classList.remove('hidden');
          btn.disabled = false;
          btnText.classList.remove('hidden');
          btnLoad.classList.add('hidden');
        }
      } catch (err) {
        errMsg.textContent = 'Network error. Please check your connection.';
        errDiv.classList.remove('hidden');
        btn.disabled = false;
        btnText.classList.remove('hidden');
        btnLoad.classList.add('hidden');
      }
    });
  });
</script>
