<div id="cookie-consent" class="hidden fixed bottom-6 left-6 right-6 md:left-auto md:right-6 md:max-w-md z-50">
  <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-soft-xl border border-primary-100 dark:border-gray-700 p-6">
    <p class="text-sm text-primary-600 dark:text-gray-400 mb-4">
      We use cookies to enhance your experience. By continuing to visit this site you agree to our use of cookies.
      <a href="{{ '/privacy/' | url }}" class="text-accent-600 dark:text-accent-400 hover:text-accent-700 dark:hover:text-accent-300 font-medium">Learn more</a>
    </p>
    <div class="flex gap-3">
      <button id="cookie-accept" class="btn btn-primary text-sm flex-1">Accept</button>
      <button id="cookie-decline" class="btn btn-secondary text-sm">Decline</button>
    </div>
  </div>
</div>

<script>
  (function() {
    const consent = localStorage.getItem('cookie-consent');
    const banner = document.getElementById('cookie-consent');

    if (!consent) {
      banner.classList.remove('hidden');
    }

    document.getElementById('cookie-accept').addEventListener('click', function() {
      localStorage.setItem('cookie-consent', 'accepted');
      banner.classList.add('hidden');
      // Enable analytics if not already enabled
      if (typeof gtag !== 'undefined') {
        gtag('consent', 'update', {
          'analytics_storage': 'granted'
        });
      }
    });

    document.getElementById('cookie-decline').addEventListener('click', function() {
      localStorage.setItem('cookie-consent', 'declined');
      banner.classList.add('hidden');
      // Disable analytics
      if (typeof gtag !== 'undefined') {
        gtag('consent', 'update', {
          'analytics_storage': 'denied'
        });
      }
    });
  })();
</script>
