<div id="cookie-consent" class="hidden fixed bottom-0 left-0 right-0 bg-gray-900 text-white p-4 shadow-lg z-50">
  <div class="container-custom">
    <div class="flex flex-col md:flex-row items-center justify-between gap-4">
      <p class="text-sm">
        We use cookies to enhance your experience. By continuing to visit this site you agree to our use of cookies.
        <a href="/privacy" class="underline hover:text-primary-400">Learn more</a>
      </p>
      <div class="flex gap-3">
        <button id="cookie-accept" class="btn btn-primary text-sm">Accept</button>
        <button id="cookie-decline" class="btn btn-secondary text-sm">Decline</button>
      </div>
    </div>
  </div>
</div>

<script>
  (function() {
    const consent = localStorage.getItem('cookie-consent');
    const banner = document.getElementById('cookie-consent');

    if (!consent) {
      banner.classList.remove('hidden');
    }

    document.getElementById('cookie-accept').addEventListener('click', function() {
      localStorage.setItem('cookie-consent', 'accepted');
      banner.classList.add('hidden');
      // Enable analytics if not already enabled
      if (typeof gtag !== 'undefined') {
        gtag('consent', 'update', {
          'analytics_storage': 'granted'
        });
      }
    });

    document.getElementById('cookie-decline').addEventListener('click', function() {
      localStorage.setItem('cookie-consent', 'declined');
      banner.classList.add('hidden');
      // Disable analytics
      if (typeof gtag !== 'undefined') {
        gtag('consent', 'update', {
          'analytics_storage': 'denied'
        });
      }
    });
  })();
</script>
